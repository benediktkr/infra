
location = /.well-known/matrix/server {
    default_type application/json;
    add_header Access-Control-Allow-Origin *;
    return 200 '{"m.server": "{{ matrix_url }}:443"}';
}

location = /.well-known/matrix/client {
    default_type application/json;
    add_header Access-Control-Allow-Origin *;
    return 200 '{"m.homeserver":{"base_url":"https://{{ matrix_url }}"}}';
}

location = /.well-known/carddav {
    return 301 https://{{ nextcloud_url }}/remote.php/dav;
}

location = /.well-known/caldav {
    return 301 https://{{ nextcloud_url }}/remote.php/dav;
}

location = /.well-known/openid-configuration {
    return 301 https://{{ authelia_login_url }}/.well-known/openid-configuration;
}
location = /.well-known/oauth-authorization-server {
    return 301 https://{{ authelia_login_url }}/.well-known/oauth-authorization-server;
}
