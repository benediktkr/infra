## apt-get update is already run in the common role
- name: add nextcloud ppa
  apt_repository:
    repo: ppa:nextcloud-devs/client
    update_cache: yes
  tags:
    - packages

- name: install apt packages
  apt:
    state: present
    name: "{{ item }}"
  with_items:
    - emacs25 # Move to common later
    - keepassx
    - texlive-full
    - ssh
    - enigmail
    - python-pip
    - python3-pip
    - git
    - filezilla
    - vlc
    - telegram-desktop
    - gnupg
    - nextcloud-client
    - firefox
    - chromium-browser
    - android-tools-adb
    - android-tools-fastboot
    - gnome-raw-thumbnailer
    - ufraw-batch
    - python-pyflakes
    - virtualbox
    - openvpn
    - network-manager-openvpn
    - network-manager-openvpn-gnome
  tags:
    - packages


# Note: Slack was installed with --classic
- name: install snap packages
  command: snap install {{ item }}
  with_items:
    - slack --classic
    - skype --classic
    - signal-desktop
    - spotify
  tags:
    - packages

- name: create directory structure in ~
  file:
    path: "~/{{ item }}"
    state: directory
    owner: "{{ myusername }}"
    group: "{{ myusername }}"
    recurse: no
  become_user: "{{ myusername }}"
  with_items:
    - projects
    - video
