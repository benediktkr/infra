## apt-get update is already run in the common role
- name: add nextcloud ppa
  apt_repository:
    repo: ppa:nextcloud-devs/client
    update_cache: yes

- name: install packages
  apt:
    state: present
    name: "{{ item }}"
  with_items:
    - emacs25 # Move to common later
    - keepassx
    - texlive-full
    - ssh
    - enigmail
    - python-pip
    - git
    - filezilla
    - vlc
    - telegram-desktop
    - gnupg
    - nextcloud-client
    - firefox
    - chromium-browser
  tags:
    - packages
    
- name: install slack with snap
  command: snap install slack --classic

- name: create directory structure in ~
  file:
    path: "~/{{ item }}"
    state: directory
    owner: "{{ myusername }}"
    group: "{{ myusername }}"
    recurse: yes
  become_user: "{{ myusername }}"
  with_items:
    - projects
    - video

